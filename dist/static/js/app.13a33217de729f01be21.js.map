{"version":3,"sources":["webpack:///./src/App.vue?662e","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/pages/components/inside.vue","webpack:///./src/pages/components/inside.vue?c76f","webpack:///./src/pages/components/inside.vue","webpack:///src/pages/components/outside.vue","webpack:///./src/pages/components/outside.vue?65d3","webpack:///./src/pages/components/outside.vue","webpack:///src/pages/Home.vue","webpack:///./src/pages/Home.vue?2087","webpack:///./src/pages/Home.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","inside","data","button_click","timer","running","going_up","door","current_floor","max_floor","min_floor","floor_id","outside_up","outside_down","call","props","ele_id","Number","floor_count","call_ele_id","press_floor","up","Boolean","down","methods","handlePhoneClick","alert","handleBellClick","updateFloorInfo","$emit","updateOutsideUp","floor","updateOutsideDown","handleInsideButtonClick","console","log","dial","outsideButtonClick","outside","push","sort","checkStatus","getMinInQueue","arr","length","min","i","getMaxInQueue","max","removeFromQueue","queue","index","indexOf","splice","openDoor","closeDoor","doorAlert","addOutside","run","need_stop","ding","moveUp","moveDown","_this","that","clearInterval","setTimeout","setInterval","created","mounted","destroyed","components_inside","_vm","staticClass","shadow","directives","rawName","value","expression","_v","_s","_l","o","key","class","button-click","type","plain","on","click","$event","staticStyle","display","active-color","inactive-color","active-text","inactive-text","nativeOn","model","callback","$$v","icon","circle","pages_components_inside","inside_normalizeComponent","handleUpClick","handleDownClick","upStateRestoration","downStateRestoration","components_outside","size","Home","components","Inside","Outside","outside_normalizeComponent","ele_count","betweenCount","a","b","temp","betweenNum","calculateUpDistance","maxDistance","distance","elevatorToPush","minInQueue","maxInQueue","Math","abs","calculateDownDistance","callFloorUp","floor_num","$refs","insidechild","callFloorDown","getChildStatus","child_current","child_running","child_queue","child_up","outsideChild","pages_Home","ref","refInFor","childStatus","childCallFloorUp","childCallFloorDown","src_pages_Home","Home_normalizeComponent","Vue","use","Router","router","routes","path","component","ElementUI","config","productionTip","el","App","template"],"mappings":"+JAGeA,cADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,qBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,ECTAC,KAAA,ODWEb,GATF,EAVA,SAAAc,GACEH,EAAQ,SAaV,KAEA,MAUgC,oBEuChCI,GACAF,KAAA,SACAG,KAFA,WAGA,OACAC,gBACAC,MAAA,KACAC,SAAA,EACAC,UAAA,EACAC,MAAA,EACAC,cAAA,EACAC,UAAA,GACAC,UAAA,EACAC,YACAC,cACAC,gBACAZ,UACAa,UAGAC,OACAC,OAAAC,OACAC,YAAAD,OACAE,YAAAF,OACAG,YAAAH,OACAI,GAAAC,QACAC,KAAAD,SAEAE,SACAC,iBADA,WAEAC,MAAA,cAEAC,gBAJA,WAKAD,MAAA,cAGAE,gBARA,WAWAvC,KAAAwC,MACA,cACAxC,KAAA2B,OACA3B,KAAAmB,cACAnB,KAAAgB,QACAhB,KAAAyB,KACAzB,KAAAiB,WAIAwB,gBArBA,SAqBAC,GACA1C,KAAAwC,MAAA,kBAAAE,IAEAC,kBAxBA,SAwBAD,GACA1C,KAAAwC,MAAA,oBAAAE,IAGAE,wBA5BA,SA4BAF,GACA1C,KAAAc,aAAA4B,IAAA,EAEA1C,KAAAY,OAAA8B,GAAA,EACAG,QAAAC,IAAA,YAAA9C,KAAAY,QACAZ,KAAA+C,KAAAL,IAGAM,mBApCA,SAoCAN,GACA1C,KAAAiD,QAAAP,GAAA,EACA1C,KAAA+C,KAAAL,IAGAK,KAzCA,SAyCAL,GAEAG,QAAAC,IAAA,WAAAJ,GACA1C,KAAAyB,KAAAyB,KAAAR,GACA1C,KAAAyB,KAAA0B,OACAN,QAAAC,IAAA,UAAA9C,KAAAyB,MACAzB,KAAAgB,SACAhB,KAAAoD,eAKAC,cArDA,SAqDAC,GACA,GAAAA,EAAAC,QAAA,EAEA,OADAV,QAAAC,IAAA,WACA,EAEA,MAAAQ,EAAAC,OACA,OAAAD,EAAA,GAEA,IAAAE,EAAAF,EAAA,GACA,QAAAG,KAAAH,EACAA,EAAAG,GAAAD,IACAA,EAAAF,EAAAG,IAGA,OAAAD,GAGAE,cAtEA,SAsEAJ,GACA,GAAAA,EAAAC,QAAA,EAEA,OADAV,QAAAC,IAAA,WACA,EAEA,MAAAQ,EAAAC,OACA,OAAAD,EAAA,GAEA,IAAAK,EAAAL,EAAA,GACA,QAAAG,KAAAH,EACAA,EAAAG,GAAAE,IACAA,EAAAL,EAAAG,IAGA,OAAAE,GAIAC,gBAxFA,SAwFAC,EAAAnB,GACAG,QAAAC,IAAA,WAAAJ,GACA,IAAAoB,EAAAD,EAAAE,QAAArB,GACAoB,GAAA,GACAD,EAAAG,OAAAF,EAAA,IAIAG,SAhGA,WAiGAjE,KAAAkB,MAAA,GAEAgD,UAnGA,WAoGAlE,KAAAkB,MAAA,EACA2B,QAAAC,IAAA,gBAGAqB,UAxGA,WAyGAnE,KAAAgB,UACAqB,MAAA,aACArC,KAAAkB,MAAA,IAIAkC,YA/GA,WAiHApD,KAAAgB,QAAAhB,KAAAyB,KAAA8B,OAAA,EAEAvD,KAAAmB,eAAAnB,KAAAqB,UACArB,KAAAiB,UAAA,EAEAjB,KAAAmB,eAAAnB,KAAAoB,UACApB,KAAAiB,UAAA,GAGAjB,KAAAiB,YACAjB,KAAAgB,SACAhB,KAAAmB,eAAAnB,KAAA0D,cAAA1D,KAAAyB,OACAzB,KAAAiB,UAAA,EACAjB,KAAAiB,UAAA,EACAjB,KAAAiB,UACAjB,KAAAgB,WACAhB,KAAAmB,eAAAnB,KAAAqD,cAAArD,KAAAyB,OAEAzB,KAAAiB,UAAA,EADAjB,KAAAiB,UAAA,EAEA4B,QAAAC,IAAA9C,KAAA0D,cAAA1D,KAAAyB,MAAAzB,KAAAiB,YAIAmD,WAxIA,SAwIApC,EAAAE,EAAAH,GACAc,QAAAC,IAAA,eAAA9C,KAAA2B,QACAkB,QAAAC,IAAA,WAAAf,GACA,GAAAC,GACAa,QAAAC,IAAA,WACA9C,KAAAuB,WAAAQ,GAAA,GACA,GAAAG,IACAW,QAAAC,IAAA,WACA9C,KAAAwB,aAAAO,GAAA,GAEA/B,KAAA+C,KAAAhB,IAEAsC,IApJA,WAqJA,IAAAC,GAAA,EACAtE,KAAAgB,UACAhB,KAAAyB,KAAAsC,QAAA/D,KAAAmB,gBAAA,GAEA,GAAAnB,KAAAY,OAAAZ,KAAAmB,iBACAnB,KAAA4D,gBAAA5D,KAAAyB,KAAAzB,KAAAmB,eACAnB,KAAAY,OAAAZ,KAAAmB,eAAA,EACAnB,KAAAc,aAAAd,KAAAmB,eAAA,EACAmD,GAAA,GAEAtE,KAAAiB,UACA,GAAAjB,KAAAuB,WAAAvB,KAAAmB,iBACA0B,QAAAC,IAAA,UAAA9C,KAAAmB,eACAnB,KAAA4D,gBAAA5D,KAAAyB,KAAAzB,KAAAmB,eACAnB,KAAAuB,WAAAvB,KAAAmB,eAAA,EACAnB,KAAAyC,gBAAAzC,KAAAmB,eACAmD,GAAA,GAGA,GAAAtE,KAAAwB,aAAAxB,KAAAmB,gBACAnB,KAAAmB,eAAAnB,KAAA0D,cAAA1D,KAAAyB,QAEAzB,KAAA4D,gBAAA5D,KAAAyB,KAAAzB,KAAAmB,eACAnB,KAAAwB,aAAAxB,KAAAmB,eAAA,EACAnB,KAAA2C,kBAAA3C,KAAAmB,eACAmD,GAAA,KAGA,GAAAtE,KAAAwB,aAAAxB,KAAAmB,iBACAnB,KAAA4D,gBAAA5D,KAAAyB,KAAAzB,KAAAmB,eACAnB,KAAAwB,aAAAxB,KAAAmB,eAAA,EACAnB,KAAA2C,kBAAA3C,KAAAmB,eACAmD,GAAA,GAGA,GAAAtE,KAAAuB,WAAAvB,KAAAmB,gBACAnB,KAAAmB,eAAAnB,KAAAqD,cAAArD,KAAAyB,QAEAzB,KAAA4D,gBAAA5D,KAAAyB,KAAAzB,KAAAmB,eACAnB,KAAAuB,WAAAvB,KAAAmB,eAAA,EACAnB,KAAAyC,gBAAAzC,KAAAmB,eACAmD,GAAA,IAGAA,GACAzB,QAAAC,IAAA,QAAA9C,KAAAmB,eACAnB,KAAAuE,KAAAvE,KAAAmB,gBAEAnB,KAAAiB,SAAAjB,KAAAwE,SAAAxE,KAAAyE,aAGAzE,KAAAiB,SAAAjB,KAAAwE,SAAAxE,KAAAyE,WACAzE,KAAAuC,mBAEAvC,KAAAoD,gBAIAmB,KA/MA,SA+MA7B,GACA,IAAAgC,EAAA1E,KACA2E,EAAA3E,KAEAA,KAAAe,OACA6D,cAAA5E,KAAAe,OAEAf,KAAAiE,WAEAY,WAAA,WACAH,EAAAR,YACAW,WAAA,WACAF,EAAA5D,MAAA+D,YAAAH,EAAAN,IAAA,MACA,MACA,MAGAG,OAhOA,WAiOAxE,KAAAmB,cAAAnB,KAAAoB,WACApB,KAAAmB,iBAIAsD,SAtOA,WAuOAzE,KAAAmB,cAAAnB,KAAAqB,WACArB,KAAAmB,kBAIA4D,QAvQA,WAyQA,QAAAtB,EAAA,EAAAA,GAAAzD,KAAAoB,YAAAqC,EACAzD,KAAAc,aAAA2C,IAAA,EACAzD,KAAAuB,WAAAkC,GAAA,EACAzD,KAAAwB,aAAAiC,GAAA,EACAzD,KAAAY,OAAA6C,GAAA,EACAzD,KAAAsB,SAAAmC,MAGAuB,QAjRA,WAmRAhF,KAAAe,MAAA+D,YAAA9E,KAAAqE,IAAA,MAqBAY,UAxSA,WAySAL,cAAA5E,KAAAe,SCvWemE,GADEpF,OAFP,WAAgB,IAAAqF,EAAAnF,KAAaD,EAAAoF,EAAAlF,eAA0BC,EAAAiF,EAAAhF,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBkF,YAAA,QAAkBlF,EAAA,WAAgBkF,YAAA,aAAuBlF,EAAA,WAAgBkF,YAAA,YAAAhF,OAA+BiF,OAAA,YAAmBnF,EAAA,OAAAA,EAAA,KAAoBoF,aAAa5E,KAAA,OAAA6E,QAAA,SAAAC,MAAAxF,KAAA,SAAAyF,WAAA,kBAA8EL,YAAA,sBAAkCD,EAAAO,GAAA,KAAAxF,EAAA,KAAsBoF,aAAa5E,KAAA,OAAA6E,QAAA,SAAAC,OAAAxF,KAAAiB,SAAAwE,WAAA,mBAAgFL,YAAA,+BAA2CD,EAAAO,GAAA,qBAAAP,EAAAQ,GAAA3F,KAAAmB,eAAA,sBAAAjB,EAAA,KAAuFoF,aAAa5E,KAAA,OAAA6E,QAAA,SAAAC,OAAAxF,KAAAiB,SAAAwE,WAAA,mBAAgFL,YAAA,yBAAqCD,EAAAO,GAAA,KAAAxF,EAAA,KAAsBoF,aAAa5E,KAAA,OAAA6E,QAAA,SAAAC,MAAAxF,KAAA,SAAAyF,WAAA,kBAA8EL,YAAA,sCAA8CD,EAAAO,GAAA,KAAAxF,EAAA,OAA4BkF,YAAA,gBAA2BD,EAAAS,GAAA5F,KAAA,qBAAA6F,GAAuC,OAAA3F,EAAA,OAAiB4F,IAAAD,EAAAT,YAAA,iBAAiClF,EAAA,aAAkBkF,YAAA,SAAAW,OAA4BC,eAAAb,EAAArE,aAAA+E,IAAsCzF,OAAQ6F,KAAA,UAAAC,MAAA,IAA4BC,IAAKC,MAAA,SAAAC,GAAyB,OAAAlB,EAAAvC,wBAAAiD,OAAwCV,EAAAO,GAAA,yBAAAP,EAAAQ,GAAAE,GAAA,8BAAwE,GAAAV,EAAAO,GAAA,KAAAxF,EAAA,OAA2BkF,YAAA,YAAsBlF,EAAA,aAAkBkF,YAAA,SAAAkB,aAAkCC,QAAA,SAAkBnG,OAAQoG,eAAA,UAAAC,iBAAA,UAAAC,cAAA,KAAAC,gBAAA,MAA4FC,UAAWR,MAAA,SAAAC,GAAyB,OAAAlB,EAAAhB,cAAwB0C,OAAQrB,MAAAL,EAAA,KAAA2B,SAAA,SAAAC,GAA0C5B,EAAAjE,KAAA6F,GAAatB,WAAA,UAAoBN,EAAAO,GAAA,KAAAxF,EAAA,aAA8BE,OAAO6F,KAAA,UAAAe,KAAA,gBAAAC,OAAA,IAAoDd,IAAKC,MAAA,SAAAC,GAAyB,OAAAlB,EAAA/C,uBAAgC+C,EAAAO,GAAA,KAAAxF,EAAA,aAA8BE,OAAO6F,KAAA,SAAAe,KAAA,wBAAAC,OAAA,IAA2Dd,IAAKC,MAAA,SAAAC,GAAyB,OAAAlB,EAAA7C,uBAA+B,YAEh6DhC,oBCChC,IAuBe4G,EAvBU1G,EAAQ,OAcjB2G,CACdvG,EACAsE,GAT6B,EAV/B,SAAoBvE,GAClBH,EAAQ,SAaS,kBAEU,MAUG,QCDhCyC,GACAvC,KAAA,UACAgB,OACAJ,SAAAM,QAEAf,KALA,WAMA,OAEAmB,IAAA,EACAE,MAAA,IAGAC,SAEAiF,cAFA,WAGApH,KAAAgC,KAEAhC,KAAAgC,IAAA,EACAhC,KAAAwC,MAAA,mBAAAxC,KAAAsB,YAGA+F,gBATA,WAUArH,KAAAkC,OAEAlC,KAAAkC,MAAA,EACAlC,KAAAwC,MAAA,qBAAAxC,KAAAsB,YAGAgG,mBAhBA,WAiBAzE,QAAAC,IAAA9C,KAAAsB,SAAA,MACAtB,KAAAgC,IAAA,GAEAuF,qBApBA,WAqBAvH,KAAAkC,MAAA,KCvDesF,GADE1H,OAFP,WAAgB,IAAAqF,EAAAnF,KAAaD,EAAAoF,EAAAlF,eAA0BC,EAAAiF,EAAAhF,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAAA,EAAA,OAAAA,EAAA,UAAwCkF,YAAA,eAAyBD,EAAAO,GAAAP,EAAAQ,GAAA3F,KAAAsB,aAAA6D,EAAAO,GAAA,KAAAxF,EAAA,mBAAAA,EAAA,aAAoF6F,OAAOC,eAAAhG,KAAAgC,IAA0B5B,OAAQqH,KAAA,QAAAxB,KAAA,WAAgCE,IAAKC,MAAA,SAAAC,GAAyB,OAAAlB,EAAAiC,oBAA6BlH,EAAA,KAAUkF,YAAA,kBAA0BD,EAAAO,GAAA,KAAAxF,EAAA,aAAgC6F,OAAOC,eAAAhG,KAAAkC,MAA4B9B,OAAQqH,KAAA,QAAAxB,KAAA,WAAgCE,IAAKC,MAAA,SAAAC,GAAyB,OAAAlB,EAAAkC,sBAA+BnH,EAAA,KAAUkF,YAAA,sBAA6B,UAErkB9E,oBCChC,ICiCAoH,GACAhH,KAAA,OACAiH,YACAC,OAAAV,EACAW,QDrCyBrH,EAAQ,OAcjBsH,CACd7E,EACAuE,GAT6B,EAV/B,SAAoB7G,GAClBH,EAAQ,SAaS,KAEU,MAUG,SCgBhCK,KANA,WAOA,OACAkH,UAAA,EACAlG,YAAA,GACAb,WACAC,YACAE,iBACAM,UAGAM,YAAA,KACAD,YAAA,EACAE,IAAA,EACAE,MAAA,IAGAC,SAGA6F,aAHA,SAGAC,EAAAC,EAAA7H,GACA,GAAA4H,EAAAC,EAAA,CACA,IAAAC,EAAAF,EACAA,EAAAC,EACAA,EAAAC,EAEAtF,QAAAC,IAAA9C,KAAAyB,KAAApB,IACA,IAAA+H,KACA,QAAA3E,KAAAzD,KAAAyB,KAAApB,GAEAL,KAAAyB,KAAApB,GAAAoD,IAAAyE,GACAlI,KAAAyB,KAAApB,GAAAoD,IAAAwE,GACAG,EAAArE,QAAA/D,KAAAyB,KAAApB,GAAAoD,GAAA,IAEA2E,EAAAlF,KAAAlD,KAAAyB,KAAApB,GAAAoD,IAIA,OADAZ,QAAAC,IAAA,WAAAsF,EAAA7E,QACA6E,EAAA7E,QAEAF,cAvBA,SAuBAC,GAEA,OAAAA,EAAA,IAGAI,cA5BA,SA4BAJ,GAEA,OAAAA,IAAAC,OAAA,IAIA8E,oBAlCA,SAkCAtG,GAIA,IAHA,IAAAuG,EAAA,EAAAtI,KAAA6B,YACA0G,EAAA,EACAC,EAAA,EACA/E,EAAA,EAAAA,EAAAzD,KAAA+H,UAAAtE,IACA,GAAAzD,KAAAgB,QAAAyC,GAEA,CACA,IAAAgF,EAAAzI,KAAAqD,cAAArD,KAAAyB,KAAAgC,IACAiF,EAAA1I,KAAA0D,cAAA1D,KAAAyB,KAAAgC,IACAzD,KAAAmB,cAAAsC,IAAA1B,EACA/B,KAAAiB,SAAAwC,IACAZ,QAAAC,IAAA,eACAyF,EACAxG,EACA/B,KAAAmB,cAAAsC,GACA,EACAzD,KAAAgI,aACAjG,EACA/B,KAAAmB,cAAAsC,GACAA,KAGAZ,QAAAC,IAAA,eACAyF,EACAvI,KAAAmB,cAAAsC,GACAgF,EACA1G,EACA0G,EACA,EACAzI,KAAAgI,aACAS,EACA1G,EACA0B,IAIAzD,KAAAiB,SAAAwC,IACAZ,QAAAC,IAAA,eACAyF,EACAG,EACA1I,KAAAmB,cAAAsC,GACAiF,EACAD,EACAE,KAAAC,IAAAH,EAAA1G,GACA,EACA/B,KAAAgI,aACAM,EACAI,EACAjF,GAEAZ,QAAAC,IACA,YACAyF,EACA,OACAD,KAGAzF,QAAAC,IAAA,eACAyF,EACAvI,KAAAmB,cAAAsC,GACAgF,EACAE,KAAAC,IAAAH,EAAA1G,GACA,EACA/B,KAAAgI,aACAhI,KAAAmB,cAAAsC,GACAgF,EACAhF,IAIA8E,EAAAD,IACAA,EAAAC,EACAC,EAAA/E,EAAA,QAnEA8E,EAAAI,KAAAC,IAAA7G,EAAA/B,KAAAmB,cAAAsC,IA2EA,OAJAZ,QAAAC,IACAf,EAAA,UAAAyG,EAAA,MAEAxI,KAAAgC,IAAA,EACAwG,GAEAK,sBArHA,SAqHA9G,GAIA,IAHA,IAAAuG,EAAA,EAAAtI,KAAA6B,YACA0G,EAAA,EACAC,EAAA,EACA/E,EAAA,EAAAA,EAAAzD,KAAA+H,UAAAtE,IACA,GAAAzD,KAAAgB,QAAAyC,GAEA,CACA,IAAAgF,EAAAzI,KAAAqD,cAAArD,KAAAyB,KAAAgC,IACAiF,EAAA1I,KAAA0D,cAAA1D,KAAAyB,KAAAgC,IACAzD,KAAAmB,cAAAsC,IAAA1B,EACA/B,KAAAiB,SAAAwC,IACAZ,QAAAC,IAAA,eACAyF,EACAG,EACA1I,KAAAmB,cAAAsC,GACAkF,KAAAC,IAAAF,EAAA3G,GACA,EACA/B,KAAAgI,aACAhI,KAAAmB,cAAAsC,GACAiF,EACAjF,KAGAZ,QAAAC,IAAA,eACAyF,EACAvI,KAAAmB,cAAAsC,GACAgF,EACAC,EACAD,EACAE,KAAAC,IAAAF,EAAA3G,GACA,EACA/B,KAAAgI,aACAM,EACAI,EACAjF,IAIAzD,KAAAiB,SAAAwC,IACAZ,QAAAC,IAAA,eACAyF,EACAG,EACA1I,KAAAmB,cAAAsC,GACAiF,EACA3G,EACA,EACA/B,KAAAgI,aACAU,EACA3G,EACA0B,GAEAZ,QAAAC,IACA,YACAyF,EACA,OACAD,KAGAzF,QAAAC,IAAA,eACAyF,EACAvI,KAAAmB,cAAAsC,GACA1B,EACA,EACAiG,aACAjG,EACA/B,KAAAmB,cAAAsC,GACAA,IAIA8E,EAAAD,IACAA,EAAAC,EACAC,EAAA/E,EAAA,QAnEA8E,EAAAI,KAAAC,IAAA7G,EAAA/B,KAAAmB,cAAAsC,IA2EA,OAJAZ,QAAAC,IACAf,EAAA,UAAAyG,EAAA,MAEAxI,KAAAkC,MAAA,EACAsG,GAGAM,YAzMA,SAyMAC,GACA/I,KAAA+B,YAAAgH,EAEA/I,KAAA8B,YAAA9B,KAAAqI,oBAAAU,GAEA/I,KAAAgJ,MAAAC,YAAAjJ,KAAA8B,YAAA,GAAAsC,WACApE,KAAAgC,GACAhC,KAAAkC,KACA6G,GAEAlG,QAAAC,IACA,WACA9C,KAAA8B,YACA,OACA9B,KAAA+B,aAGA,QAAA0B,EAAA,EAAAA,EAAAzD,KAAA+H,UAAAtE,IACAZ,QAAAC,IAAA,QAAA9C,KAAAyB,KAAAgC,KAGAyF,cA9NA,SA8NAH,GACA/I,KAAA+B,YAAAgH,EACA/I,KAAA8B,YAAA9B,KAAA6I,sBAAAE,GACA/I,KAAAgJ,MAAAC,YAAAjJ,KAAA8B,YAAA,GAAAsC,WACApE,KAAAgC,GACAhC,KAAAkC,KACA6G,GAGAlG,QAAAC,IACA,WACA9C,KAAA8B,YACA,OACA9B,KAAA+B,aAEA,QAAA0B,EAAA,EAAAA,EAAAzD,KAAA+H,UAAAtE,IACAZ,QAAAC,IAAA,QAAA9C,KAAAyB,KAAAgC,KAIA0F,eAlPA,SAmPA9I,EACA+I,EACAC,EACAC,EACAC,GAEAvJ,KAAAmB,cAAAd,EAAA,GAAA+I,EACApJ,KAAAgB,QAAAX,EAAA,GAAAgJ,EACArJ,KAAAyB,KAAApB,EAAA,GAAAiJ,EACAtJ,KAAAiB,SAAAZ,EAAA,GAAAkJ,EACA1G,QAAAC,IAAA,UAAAzC,IAGAoC,gBAhQA,SAgQAC,GACA1C,KAAAgJ,MAAAQ,aAAA9G,EAAA,GAAA4E,qBACAzE,QAAAC,IAAA,KAAAJ,IAEAC,kBApQA,SAoQAD,GACA1C,KAAAgJ,MAAAQ,aAAA9G,EAAA,GAAA6E,yBAGAxC,QA9RA,WAgSA,QAAAtB,EAAA,EAAAA,EAAAzD,KAAA+H,YAAAtE,EACAzD,KAAAgB,QAAAyC,IAAA,EACAzD,KAAAmB,cAAAsC,GAAA,ICnUegG,GADE3J,OAFP,WAAgB,IAAAqF,EAAAnF,KAAaD,EAAAoF,EAAAlF,eAA0BC,EAAAiF,EAAAhF,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBkF,YAAA,SAAmBlF,EAAA,MAAAiF,EAAAS,GAAA5F,KAAA,mBAAA6F,GAA+C,OAAA3F,EAAA,UAAoB4F,IAAAD,EAAA6D,IAAA,cAAAC,UAAA,EAAAvE,YAAA,OAAAhF,OAAgEyB,YAAAsD,EAAAtD,YAAAF,OAAAkE,EAAA9D,YAAAoD,EAAApD,YAAAC,GAAAmD,EAAAnD,GAAAE,KAAAiD,EAAAjD,KAAAJ,YAAAqD,EAAArD,aAAiIqE,IAAKyD,YAAAzE,EAAAgE,eAAAxG,kBAAAwC,EAAAxC,kBAAAF,gBAAA0C,EAAA1C,qBAAoH,GAAA0C,EAAAO,GAAA,KAAAxF,EAAA,MAAAiF,EAAAS,GAAA5F,KAAA,qBAAA6F,GAAgE,OAAA3F,EAAA,WAAqB4F,IAAAD,EAAA6D,IAAA,eAAAC,UAAA,EAAAvE,YAAA,QAAAhF,OAAkEkB,SAAAuE,GAAaM,IAAK0D,iBAAA1E,EAAA2D,YAAAgB,mBAAA3E,EAAA+D,mBAA6E,MAEhtB5I,oBCChC,IAuBeyJ,EAvBUvJ,EAAQ,OAcjBwJ,CACdtC,EACA+B,GAT6B,EAV/B,SAAoB9I,GAClBH,EAAQ,SAaS,KAEU,MAUG,QCtBhCyJ,UAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACfE,SAEQC,KAAM,IACN5J,KAAM,OACN6J,UAAW7C,MCHvBuC,UAAIC,IAAIM,KACRP,UAAIQ,OAAOC,eAAgB,EAG3B,IAAIT,WACAU,GAAI,OACJP,SACAzC,YAAciD,OACdC,SAAU","file":"static/js/app.13a33217de729f01be21.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35ee2004\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35ee2004\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35ee2004\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"app\">\n        <router-view />\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"App\"\n}\n</script>\n\n<style></style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <div class=\"box\">\n        <el-card class=\"box-card\">\n            <el-card class=\"floor-num\" shadow=\"always\">\n                <div>\n                    <i class=\"el-icon-caret-top\" v-show=\"this.going_up\"></i>\n                    <i\n                        class=\"el-icon-caret-top disabled\"\n                        v-show=\"!this.going_up\"\n                    ></i>\n                    {{ this.current_floor }}\n                    <i class=\"el-icon-caret-bottom\" v-show=\"!this.going_up\"></i>\n                    <i\n                        class=\"el-icon-caret-bottom disabled\"\n                        v-show=\"this.going_up\"\n                    ></i>\n                </div>\n            </el-card>\n            <div class=\"button-group\">\n                <div\n                    v-for=\"o in this.floor_count\"\n                    :key=\"o\"\n                    class=\"button-place\"\n                >\n                    <el-button\n                        type=\"primary\"\n                        plain\n                        class=\"button\"\n                        @click=\"handleInsideButtonClick(o)\"\n                        :class=\"{ 'button-click': button_click[o] }\"\n                    >\n                        {{ o }}\n                    </el-button>\n                </div>\n            </div>\n            <div class=\"control\">\n                <el-switch\n                    class=\"switch\"\n                    style=\"display: block\"\n                    v-model=\"door\"\n                    active-color=\"#13ce66\"\n                    inactive-color=\"#ff4949\"\n                    active-text=\"开门\"\n                    inactive-text=\"关门\"\n                    @click.native=\"doorAlert()\"\n                >\n                </el-switch>\n                <el-button\n                    @click=\"handlePhoneClick()\"\n                    type=\"warning\"\n                    icon=\"el-icon-phone\"\n                    circle\n                ></el-button>\n                <el-button\n                    @click=\"handleBellClick()\"\n                    type=\"danger\"\n                    icon=\"el-icon-message-solid\"\n                    circle\n                ></el-button>\n            </div>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Inside\",\n    data() {\n        return {\n            button_click: [],\n            timer: null,\n            running: false, //是否在运行\n            going_up: true, //true向上 false向下\n            door: false, //门的开关状态\n            current_floor: 1, //当前楼层\n            max_floor: 20,\n            min_floor: 1,\n            floor_id: [],\n            outside_up: [], //外部电梯向上请求队列\n            outside_down: [], //外部电梯向下请求队列\n            inside: [], //内部呼梯信号\n            call: [] //存放内外所有呼梯层\n        }\n    },\n    props: {\n        ele_id: Number, //电梯编号\n        floor_count: Number, //总楼层数\n        call_ele_id: Number,\n        press_floor: Number, //父组件的按下楼层\n        up: Boolean, //是向上\n        down: Boolean\n    },\n    methods: {\n        handlePhoneClick() {\n            alert(\"☎️请求通话！☎️\")\n        },\n        handleBellClick() {\n            alert(\"🆘请求支援!🆘\")\n        },\n        //更新上下楼的时候的内部指示灯\n        updateFloorInfo() {\n            //每秒向父组件传递该电梯当前的id和楼层\n            //接受父组件传值回来\n            this.$emit(\n                \"childStatus\",\n                this.ele_id,\n                this.current_floor,\n                this.running,\n                this.call,\n                this.going_up\n            )\n        },\n        //更新outside\n        updateOutsideUp(floor) {\n            this.$emit(\"updateOutsideUp\", floor)\n        },\n        updateOutsideDown(floor) {\n            this.$emit(\"updateOutsideDown\", floor)\n        },\n        //内部按钮呼梯\n        handleInsideButtonClick(floor) {\n            this.button_click[floor] = true\n            //floor是呼梯楼层,把内部呼梯信号改成1，加入呼梯队列\n            this.inside[floor] = 1\n            console.log(\"内部按键对列我康康\", this.inside)\n            this.dial(floor)\n        },\n        //外部button click\n        outsideButtonClick(floor) {\n            this.outside[floor] = 1\n            this.dial(floor)\n        },\n        //blog里面说，用一个按钮函数就可以\n        dial(floor) {\n            // if (this.call.indexOf(floor) < 0) {\n            console.log(\"现在按下第几层？\", floor)\n            this.call.push(floor)\n            this.call.sort()\n            console.log(\"现在的队列是：\", this.call)\n            if (!this.running) {\n                this.checkStatus()\n            }\n            // }\n        },\n        //找最小最大值\n        getMinInQueue(arr) {\n            if (arr.length <= 0) {\n                console.log(\"找不到最小值\")\n                return false\n            }\n            if (arr.length == 1) {\n                return arr[0]\n            } else {\n                var min = arr[0]\n                for (var i in arr) {\n                    if (arr[i] < min) {\n                        min = arr[i]\n                    }\n                }\n                return min\n            }\n        },\n        getMaxInQueue(arr) {\n            if (arr.length <= 0) {\n                console.log(\"找不到最大值\")\n                return false\n            }\n            if (arr.length == 1) {\n                return arr[0]\n            } else {\n                var max = arr[0]\n                for (var i in arr) {\n                    if (arr[i] > max) {\n                        max = arr[i]\n                    }\n                }\n                return max\n            }\n        },\n        //在队列中删除指定楼层\n        removeFromQueue(queue, floor) {\n            console.log(\"要删除的数字是：\" + floor)\n            var index = queue.indexOf(floor)\n            if (index > -1) {\n                queue.splice(index, 1)\n            }\n        },\n        //开关门\n        openDoor() {\n            this.door = true\n        },\n        closeDoor() {\n            this.door = false\n            console.log(\"door closed\")\n        },\n        //开门警告\n        doorAlert() {\n            if (this.running) {\n                alert(\"运行期间禁止开门！\")\n                this.door = false\n            }\n        },\n        //判断状态，每隔一段时间执行\n        checkStatus() {\n            //判断呼叫队列是否还有东西，修改运行状态\n            this.running = this.call.length > 0 ? true : false\n            //是否在底层\n            if (this.current_floor == this.min_floor) {\n                this.going_up = true\n                //是否在顶层\n            } else if (this.current_floor == this.max_floor) {\n                this.going_up = false\n            } else {\n                //在中间层的状态判断\n                this.going_up &&\n                (!this.running ||\n                    this.current_floor <= this.getMaxInQueue(this.call))\n                    ? (this.going_up = true)\n                    : (this.going_up = false)\n                !this.going_up &&\n                (!this.running ||\n                    this.current_floor >= this.getMinInQueue(this.call))\n                    ? (this.going_up = false)\n                    : (this.going_up = true)\n                console.log(this.getMaxInQueue(this.call), this.going_up)\n            }\n        },\n        //把外面的加进来\n        addOutside(up, down, press_floor) {\n            console.log(\"父组件触发我了,我是电梯\", this.ele_id)\n            console.log(\"现在按下第几层？\", press_floor)\n            if (up == true) {\n                console.log(\"按下了向上按键\")\n                this.outside_up[press_floor] = 1\n            } else if (down == true) {\n                console.log(\"按下了向下按键\")\n                this.outside_down[press_floor] = 1\n            }\n            this.dial(press_floor)\n        },\n        run() {\n            var need_stop = false\n            if (this.running) {\n                if (this.call.indexOf(this.current_floor) > -1) {\n                    //到达内部呼叫楼层\n                    if (this.inside[this.current_floor] == 1) {\n                        this.removeFromQueue(this.call, this.current_floor)\n                        this.inside[this.current_floor] = 0\n                        this.button_click[this.current_floor] = 0\n                        need_stop = true\n                    }\n                    if (this.going_up) {\n                        if (this.outside_up[this.current_floor] == 1) {\n                            console.log(\"到达外面呼叫：\", this.current_floor)\n                            this.removeFromQueue(this.call, this.current_floor)\n                            this.outside_up[this.current_floor] = 0\n                            this.updateOutsideUp(this.current_floor)\n                            need_stop = true\n                        }\n                        if (\n                            this.outside_down[this.current_floor] == 1 &&\n                            this.current_floor == this.getMaxInQueue(this.call)\n                        ) {\n                            this.removeFromQueue(this.call, this.current_floor)\n                            this.outside_down[this.current_floor] = 0\n                            this.updateOutsideDown(this.current_floor)\n                            need_stop = true\n                        }\n                    } else {\n                        if (this.outside_down[this.current_floor] == 1) {\n                            this.removeFromQueue(this.call, this.current_floor)\n                            this.outside_down[this.current_floor] = 0\n                            this.updateOutsideDown(this.current_floor)\n                            need_stop = true\n                        }\n                        if (\n                            this.outside_up[this.current_floor] == 1 &&\n                            this.current_floor == this.getMinInQueue(this.call)\n                        ) {\n                            this.removeFromQueue(this.call, this.current_floor)\n                            this.outside_up[this.current_floor] = 0\n                            this.updateOutsideUp(this.current_floor)\n                            need_stop = true\n                        }\n                    }\n                    if (need_stop) {\n                        console.log(\"stop:\", this.current_floor)\n                        this.ding(this.current_floor)\n                    } else {\n                        this.going_up ? this.moveUp() : this.moveDown()\n                    }\n                } else {\n                    this.going_up ? this.moveUp() : this.moveDown()\n                    this.updateFloorInfo()\n                }\n                this.checkStatus()\n            }\n        },\n        //暂停计时器，熄灭该楼层的灯光\n        ding(floor) {\n            let _this = this\n            let that = this\n            //需要电梯停下，就把timer清空\n            if (this.timer) {\n                clearInterval(this.timer)\n            }\n            this.openDoor()\n            //不会重复执行的延时函数\n            setTimeout(function() {\n                _this.closeDoor()\n                setTimeout(function() {\n                    that.timer = setInterval(that.run, 1000)\n                }, 3000)\n            }, 4000)\n        },\n        //上行函数\n        moveUp() {\n            if (this.current_floor < this.max_floor) {\n                this.current_floor++\n            }\n        },\n        //下行\n        moveDown() {\n            if (this.current_floor > this.min_floor) {\n                this.current_floor--\n            }\n        }\n    },\n    created() {\n        //初始化电梯状态\n        for (var i = 0; i <= this.max_floor; ++i) {\n            this.button_click[i] = false\n            this.outside_up[i] = 0\n            this.outside_down[i] = 0\n            this.inside[i] = 0\n            this.floor_id[i] = i //这个顺序是\n        }\n    },\n    mounted() {\n        //每秒执行一次run函数\n        this.timer = setInterval(this.run, 1000)\n\n        //下面这段代码我也看不太懂，但是实现了定期更新\n        // if (this.timer) {\n        //     clearInterval(this.timer)\n        // } else {\n        //     this.timer = setInterval(() => {\n        //         // 调用相应的接口，渲染数据\n        //         //他意思大概就是隔一段时间你要检测一下当前楼层，外部请求这些\n        //         //这里就是检测用的！\n        //         // console.log(this.call)\n        //         //上行or下行\n        //         if (this.running && this.going_up) {\n        //             this.current_floor++\n        //         } else if (this.running && !this.going_up) {\n        //             this.current_floor--\n        //         }\n        //         this.checkStatus()\n        //     }, 3000)\n        // }\n    },\n    destroyed() {\n        clearInterval(this.timer)\n    }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n\n.box-card {\n    width: 340px;\n    height: 800px;\n    padding:10px\n\n    .floor-num {\n        background-color: #409eff;\n        text-align: center;\n        font-size: 150%\n        color: #ffffff;\n        margin-bottom: 20px;\n\n        .el-icon-caret-top{\n            margin-right:40px\n        }\n\n        .el-icon-caret-bottom{\n            margin-left:40px\n        }\n\n        .disabled{\n            color: #152959\n        }\n\n    }\n\n    .button-group{\n        width: 100%\n        overflow: hidden;\n        height: 0\n        padding-bottom: 200%\n        display: flex;\n        flex-wrap: wrap;\n\n        .button-place{\n            width: 50%\n            display: flex;\n            justify-content: center;\n            margin-bottom: 20px\n\n            .button{\n                width:120px\n            }\n            .button-click{\n                color:#ffffff\n                background: #409eff\n            }\n        }\n\n    }\n\n    .control{\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n\n        .switch{\n            margin-left: 20px;\n        }\n    }\n\n\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/components/inside.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('el-card',{staticClass:\"box-card\"},[_c('el-card',{staticClass:\"floor-num\",attrs:{\"shadow\":\"always\"}},[_c('div',[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.going_up),expression:\"this.going_up\"}],staticClass:\"el-icon-caret-top\"}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.going_up),expression:\"!this.going_up\"}],staticClass:\"el-icon-caret-top disabled\"}),_vm._v(\"\\n                \"+_vm._s(this.current_floor)+\"\\n                \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.going_up),expression:\"!this.going_up\"}],staticClass:\"el-icon-caret-bottom\"}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.going_up),expression:\"this.going_up\"}],staticClass:\"el-icon-caret-bottom disabled\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"button-group\"},_vm._l((this.floor_count),function(o){return _c('div',{key:o,staticClass:\"button-place\"},[_c('el-button',{staticClass:\"button\",class:{ 'button-click': _vm.button_click[o] },attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleInsideButtonClick(o)}}},[_vm._v(\"\\n                    \"+_vm._s(o)+\"\\n                \")])],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"开门\",\"inactive-text\":\"关门\"},nativeOn:{\"click\":function($event){return _vm.doorAlert()}},model:{value:(_vm.door),callback:function ($$v) {_vm.door=$$v},expression:\"door\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-phone\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.handlePhoneClick()}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-message-solid\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.handleBellClick()}}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c01ebe40\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/components/inside.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c01ebe40\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./inside.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./inside.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./inside.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c01ebe40\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./inside.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c01ebe40\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/components/inside.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <div>\n            <el-tag class=\"number-tag\">{{ this.floor_id }}</el-tag>\n            <el-button-group>\n                <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    @click=\"handleUpClick()\"\n                    :class=\"{ 'button-click': this.up }\"\n                    ><i class=\"el-icon-top\"></i\n                ></el-button>\n                <el-button\n                    size=\"small\"\n                    type=\"primary\"\n                    @click=\"handleDownClick()\"\n                    :class=\"{ 'button-click': this.down }\"\n                    ><i class=\"el-icon-bottom\"></i\n                ></el-button>\n            </el-button-group>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Outside\",\n    props: {\n        floor_id: Number //按钮对应楼层\n    },\n    data() {\n        return {\n            //当前的上下键是否已经按亮\n            up: false,\n            down: false\n        }\n    },\n    methods: {\n        //点击上、下按钮，把该楼层加入距离该楼层最近的电梯的等待队列中\n        handleUpClick() {\n            if (!this.up) {\n                //把当前呼叫楼层传给父组件\n                this.up = true\n                this.$emit(\"childCallFloorUp\", this.floor_id)\n            }\n        },\n        handleDownClick() {\n            if (!this.down) {\n                //把当前呼叫楼层传给父组件\n                this.down = true\n                this.$emit(\"childCallFloorDown\", this.floor_id)\n            }\n        },\n        upStateRestoration() {\n            console.log(this.floor_id, \"变色\")\n            this.up = false\n        },\n        downStateRestoration() {\n            this.down = false\n        }\n    }\n}\n</script>\n\n<style>\n.number-tag {\n    width: 50px;\n    text-align: center;\n    margin: 20px auto 20px auto;\n}\n\n.button-click {\n    background: #b5d2ef;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/components/outside.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-tag',{staticClass:\"number-tag\"},[_vm._v(_vm._s(this.floor_id))]),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{class:{ 'button-click': this.up },attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleUpClick()}}},[_c('i',{staticClass:\"el-icon-top\"})]),_vm._v(\" \"),_c('el-button',{class:{ 'button-click': this.down },attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleDownClick()}}},[_c('i',{staticClass:\"el-icon-bottom\"})])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-63b7b5d2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/components/outside.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63b7b5d2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./outside.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./outside.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./outside.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63b7b5d2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./outside.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/components/outside.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"page\">\n        <div>\n            <inside\n                v-for=\"o in this.ele_count\"\n                :key=\"o\"\n                class=\"card\"\n                :floor_count=\"floor_count\"\n                :ele_id=\"o\"\n                :press_floor=\"press_floor\"\n                :up=\"up\"\n                :down=\"down\"\n                :call_ele_id=\"call_ele_id\"\n                @childStatus=\"getChildStatus\"\n                @updateOutsideDown=\"updateOutsideDown\"\n                @updateOutsideUp=\"updateOutsideUp\"\n                ref=\"insidechild\"\n            ></inside>\n        </div>\n        <div>\n            <outside\n                class=\"floor\"\n                v-for=\"o in this.floor_count\"\n                :key=\"o\"\n                :floor_id=\"o\"\n                @childCallFloorUp=\"callFloorUp\"\n                @childCallFloorDown=\"callFloorDown\"\n                ref=\"outsideChild\"\n            ></outside>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Inside from \"./components/inside\"\nimport Outside from \"./components/outside\"\nexport default {\n    name: \"Home\",\n    components: {\n        Inside,\n        Outside\n    },\n    data() {\n        return {\n            ele_count: 5, //电梯数量,对应电梯id\n            floor_count: 20, //楼层数量\n            running: [], //电梯运行状态\n            going_up: [], //电梯方向\n            current_floor: [], //每个电梯的当前楼层\n            call: [[]], //每个电梯的等待队列\n            //传给子组件的值\n            //要维护一个变量 保证楼层被按下时候能被监听\n            press_floor: null,\n            call_ele_id: 1, //要放入的ele_id\n            up: false, //⬆上被按下\n            down: false //下被按下\n        }\n    },\n    methods: {\n        // 计算已排序的队列[n]中a和b之间的数目计数\n        // a > b or a < b is ok\n        betweenCount(a, b, id) {\n            if (a > b) {\n                var temp = a\n                a = b\n                b = temp\n            }\n            console.log(this.call[id])\n            var betweenNum = []\n            for (var i in this.call[id]) {\n                if (\n                    this.call[id][i] <= b &&\n                    this.call[id][i] >= a &&\n                    betweenNum.indexOf(this.call[id][i] < 0)\n                ) {\n                    betweenNum.push(this.call[id][i])\n                }\n            }\n            console.log(\"between:\", betweenNum.length)\n            return betweenNum.length\n        }, //找最小最大值\n        getMinInQueue(arr) {\n            // if (length.arr) {\n            return arr[0]\n            // }\n        },\n        getMaxInQueue(arr) {\n            // if (length.arr) {\n            return arr[arr.length - 1]\n            // }\n        },\n        //计算应该放入哪个电梯\n        calculateUpDistance(press_floor) {\n            var maxDistance = 2 * this.floor_count //可能出现的最小距离\n            var distance = 0\n            var elevatorToPush = 1\n            for (var i = 0; i < this.ele_count; i++) {\n                if (!this.running[i]) {\n                    distance = Math.abs(press_floor - this.current_floor[i])\n                } else {\n                    var minInQueue = this.getMinInQueue(this.call[i]) //找出呼叫队列中最小的\n                    var maxInQueue = this.getMaxInQueue(this.call[i]) //找出呼叫队列中最大的\n                    if (this.current_floor[i] <= press_floor) {\n                        if (this.going_up[i]) {\n                            console.log(\"电梯向上，按键比当前高\")\n                            distance =\n                                press_floor -\n                                this.current_floor[i] +\n                                5 *\n                                    this.betweenCount(\n                                        press_floor,\n                                        this.current_floor[i],\n                                        i\n                                    )\n                        } else {\n                            console.log(\"电梯向下，按键比当前高\")\n                            distance =\n                                this.current_floor[i] -\n                                minInQueue +\n                                press_floor -\n                                minInQueue +\n                                5 *\n                                    this.betweenCount(\n                                        minInQueue,\n                                        press_floor,\n                                        i\n                                    )\n                        }\n                    } else {\n                        if (this.going_up[i]) {\n                            console.log(\"电梯向上，按键比当前低\")\n                            distance =\n                                maxInQueue -\n                                this.current_floor[i] +\n                                maxInQueue -\n                                minInQueue +\n                                Math.abs(minInQueue - press_floor) +\n                                5 *\n                                    this.betweenCount(\n                                        maxDistance,\n                                        maxInQueue,\n                                        i\n                                    )\n                            console.log(\n                                \"distance:\",\n                                distance,\n                                \"max:\",\n                                maxDistance\n                            )\n                        } else {\n                            console.log(\"电梯向下，按键比当前低\")\n                            distance =\n                                this.current_floor[i] -\n                                minInQueue +\n                                Math.abs(minInQueue - press_floor) +\n                                5 *\n                                    this.betweenCount(\n                                        this.current_floor[i],\n                                        minInQueue,\n                                        i\n                                    )\n                        }\n                    }\n                    if (distance < maxDistance) {\n                        maxDistance = distance\n                        elevatorToPush = i + 1\n                    }\n                }\n            }\n            console.log(\n                press_floor + \"上楼将要放入第\" + elevatorToPush + \"电梯\"\n            )\n            this.up = true\n            return elevatorToPush //得到按下按键的楼层即将放入哪个电梯\n        },\n        calculateDownDistance(press_floor) {\n            var maxDistance = 2 * this.floor_count //可能出现的最小距离\n            var distance = 0\n            var elevatorToPush = 1\n            for (var i = 0; i < this.ele_count; i++) {\n                if (!this.running[i]) {\n                    distance = Math.abs(press_floor - this.current_floor[i])\n                } else {\n                    var minInQueue = this.getMinInQueue(this.call[i]) //找出呼叫队列中最小的\n                    var maxInQueue = this.getMaxInQueue(this.call[i]) //找出呼叫队列中最大的\n                    if (this.current_floor[i] <= press_floor) {\n                        if (this.going_up[i]) {\n                            console.log(\"电梯向上，按键比当前高\")\n                            distance =\n                                maxInQueue -\n                                this.current_floor[i] +\n                                Math.abs(maxInQueue - press_floor) +\n                                5 *\n                                    this.betweenCount(\n                                        this.current_floor[i],\n                                        maxInQueue,\n                                        i\n                                    )\n                        } else {\n                            console.log(\"电梯向下，按键比当前高\")\n                            distance =\n                                this.current_floor[i] -\n                                minInQueue +\n                                maxInQueue -\n                                minInQueue +\n                                Math.abs(maxInQueue - press_floor) +\n                                5 *\n                                    this.betweenCount(\n                                        maxDistance,\n                                        maxInQueue,\n                                        i\n                                    )\n                        }\n                    } else {\n                        if (this.going_up[i]) {\n                            console.log(\"电梯向上，按键比当前低\")\n                            distance =\n                                maxInQueue -\n                                this.current_floor[i] +\n                                maxInQueue -\n                                press_floor +\n                                5 *\n                                    this.betweenCount(\n                                        maxInQueue,\n                                        press_floor,\n                                        i\n                                    )\n                            console.log(\n                                \"distance:\",\n                                distance,\n                                \"max:\",\n                                maxDistance\n                            )\n                        } else {\n                            console.log(\"电梯向下，按键比当前低\")\n                            distance =\n                                this.current_floor[i] -\n                                press_floor +\n                                5 *\n                                    betweenCount(\n                                        press_floor,\n                                        this.current_floor[i],\n                                        i\n                                    )\n                        }\n                    }\n                    if (distance < maxDistance) {\n                        maxDistance = distance\n                        elevatorToPush = i + 1\n                    }\n                }\n            }\n            console.log(\n                press_floor + \"下楼将要放入第\" + elevatorToPush + \"电梯\"\n            )\n            this.down = true\n            return elevatorToPush //得到按下按键的楼层即将放入哪个电梯\n        },\n        //得到当前哪个楼层被外部呼叫,把这个呼叫信号传递给最近的电梯\n        callFloorUp(floor_num) {\n            this.press_floor = floor_num\n            //把当前需要加入的电梯ID、楼层以及上下都传给子组件\n            this.call_ele_id = this.calculateUpDistance(floor_num)\n            //把状态传递给响应电梯子组件\n            this.$refs.insidechild[this.call_ele_id - 1].addOutside(\n                this.up,\n                this.down,\n                floor_num\n            )\n            console.log(\n                \"传入第几个电梯：\",\n                this.call_ele_id,\n                \"第几层楼\",\n                this.press_floor\n            )\n\n            for (var i = 0; i < this.ele_count; i++) {\n                console.log(\"call:\", this.call[i])\n            }\n        },\n        callFloorDown(floor_num) {\n            this.press_floor = floor_num\n            this.call_ele_id = this.calculateDownDistance(floor_num)\n            this.$refs.insidechild[this.call_ele_id - 1].addOutside(\n                this.up,\n                this.down,\n                floor_num\n            )\n            //测试log\n            console.log(\n                \"传入第几个电梯：\",\n                this.call_ele_id,\n                \"第几层楼\",\n                this.press_floor\n            )\n            for (var i = 0; i < this.ele_count; i++) {\n                console.log(\"call:\", this.call[i])\n            }\n        },\n        //从inside获取每个电梯的状态\n        getChildStatus(\n            id,\n            child_current,\n            child_running,\n            child_queue,\n            child_up\n        ) {\n            this.current_floor[id - 1] = child_current\n            this.running[id - 1] = child_running\n            this.call[id - 1] = child_queue\n            this.going_up[id - 1] = child_up\n            console.log(\"ele_id:\", id)\n        },\n        //更新outside\n        updateOutsideUp(floor) {\n            this.$refs.outsideChild[floor - 1].upStateRestoration()\n            console.log(\"楼：\", floor)\n        },\n        updateOutsideDown(floor) {\n            this.$refs.outsideChild[floor - 1].downStateRestoration()\n        }\n    },\n    created() {\n        //初始化电梯状态\n        for (var i = 0; i < this.ele_count; ++i) {\n            this.running[i] = false\n            this.current_floor[i] = 1\n        }\n    }\n}\n</script>\n\n<style>\n.card {\n    display: inline-flex;\n    width: 370px;\n    margin: 20px auto 20px auto;\n}\n.floor {\n    display: inline-flex;\n    justify-content: space-around;\n    width: 370px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',_vm._l((this.ele_count),function(o){return _c('inside',{key:o,ref:\"insidechild\",refInFor:true,staticClass:\"card\",attrs:{\"floor_count\":_vm.floor_count,\"ele_id\":o,\"press_floor\":_vm.press_floor,\"up\":_vm.up,\"down\":_vm.down,\"call_ele_id\":_vm.call_ele_id},on:{\"childStatus\":_vm.getChildStatus,\"updateOutsideDown\":_vm.updateOutsideDown,\"updateOutsideUp\":_vm.updateOutsideUp}})}),1),_vm._v(\" \"),_c('div',_vm._l((this.floor_count),function(o){return _c('outside',{key:o,ref:\"outsideChild\",refInFor:true,staticClass:\"floor\",attrs:{\"floor_id\":o},on:{\"childCallFloorUp\":_vm.callFloorUp,\"childCallFloorDown\":_vm.callFloorDown}})}),1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d888f8f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d888f8f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d888f8f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\"\nimport Router from \"vue-router\"\nimport Home from \"@/pages/Home\"\n\nVue.use(Router)\n\nexport default new Router({\n    routes: [\n        {\n            path: \"/\",\n            name: \"Home\",\n            component: Home\n        }\n    ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\"\nimport ElementUI from \"element-ui\"\nimport \"element-ui/lib/theme-chalk/index.css\"\nimport App from \"./App\"\nimport router from \"./router\"\n\nVue.use(ElementUI)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n    el: \"#app\",\n    router,\n    components: { App },\n    template: \"<App/>\"\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}